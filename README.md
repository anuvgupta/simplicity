# Simplicity Cloud

Semester project for EE461L.  
Team: Sylvia Vu, Pulkit Mahajan, and Anuv Gupta.
&nbsp;
&nbsp;
&nbsp;

-   **[User Documentation](#docs-user)**
-   **[Developer Documentation](#docs-dev)**

&nbsp;

# <a name="docs-user"></a>User Documentation

## _Table of Contents_

### [1. Getting Started](#1-getting-started)

-   [What is Simplicity?](#what-is-simplicity?)
-   [**Create** an account](#create-an-account)
-   [How do I **sign in**?](#how-do-i-sign-in?)

### [2. Overview Page](#2-overview-page)

### [3. User Functions and Features](#3-user-functions-and-features)

-   #### [3.1 Projects](#3.1-projects)
    -   [What is a **project**?](#what-is-a-project?)
    -   [**Create** a project](#create-a-project)
    -   [**Join** a project](#join-a-project)
    -   [**Edit** a project](#edit-a-project)
    -   [**Delete** a project](#delete-a-project)
-   #### [3.2 My Account](#3.2-my-account)
    -   [**Change** my username](#change-my-username)
    -   [**Change** my email](#change-my-email)
    -   [**Change** my password](#change-my-password)
    -   [**Change** user theme](#change-user-theme)

### [4. Hardware Page](#4-hardware-page)

-   [What is hardware?](#what-is-hardware?)
-   [Hardware for a **project**](#hardware-for-a-project)
-   [Hardware for **personal use**](#hardware-for-personal-use)
-   [**Checking out** hardware](#checking-out-hardware)
-   [**Checking in** hardware](#checking-in-hardware)

### [5. Datasets Page](#5-datasets-page)

-   [What is a dataset?](#what-is-a-dataset?)
-   [**Downloading** a dataset](#downloading-a-dataset)

&nbsp;  
<a name=""></a>

## <a name="1-getting-started"></a>1. Getting Started

-   <details>
      <summary>What is Simplicity?<a name="what-is-simplicity?"></summary>
      <p>Hello, and welcome to Simplicity! ðŸ˜„ Simplicity is a Haas (Hardware-as-a-service) website where users can use the site's resources to work on collaborative projects with others, or even on personal projects. Creating an account is quick, easy, and FREE! Create yours today! ðŸ¥³</p>
    </details>

-   <details>
    <summary><a name="create-an-account"></a><b>Create</b> an account</summary>
    <p>Good news, creating an account is simple! Click <a href="https://simplicitycloud.ml/">this link</a> to head to the Simplicity home page. Click 'Sign Up'; you'll be redirected to the registration page. Fill out the fields listed on the screen. Once you do that, you're ready to work with Simplicity! ðŸ˜Ž</p>
    </details>

-   <details>
    <summary><a name="how-do-i-sign-in?"></a>How do I <b>sign in</b>?</summary>
    <p>If you've just created an account, you should be redirected to your user portal. Similarly, if you have signed in previously and are re-visiting the website without having signed out, you will be redirected to your user portal when you try to reach the home page. Alternatively, click <a href="https://simplicitycloud.ml/">this link</a> to head to the Simplicity home page. Click 'Sign In'; you'll be redirected to the login page. Input the same credentials you signed up with. If your information is correct, you've successly signed in and you're ready to work!</p>
    </details>

## <a name="2-overview-page"></a>2. Overview Page

## <a name="3-user-functions-and-features"></a>3. User Functions and Features

-   ### <a name="3.1-projects"></a>3.1 Projects

    -   <details>
        <summary><a name="what-is-a-project?"></a>What is a project?</summary>
        <p>A project is anything you could imagine! Use our hardware and data sets to bring any idea to life. ðŸ¤™ </p>
        </details>

    -   <details>
        <summary><a name="create-a-project"></a><b>Create</b> a project</summary>
        <p>click it and create it sis</p>
        </details>
    -   <details>
        <summary><a name="join-a-project"></a><b>Join</b> a project</summary>
        <p>join the party</p>
        </details>
    -   <details>
        <summary><a name="edit-a-project"></a><b>Edit</b> a project</summary>
        <p>there's a reason erasers don't work on your heart: because your heart isn't composed of loosely connected graphite particles that are more attracted to rubber than to paper. *tosses up and catches eraser*</p>
        </details>
    -   <details>
        <summary><a name="delete-a-project"></a><b>Delete</b> a project</summary>
        <p>i am a bee</p>
        </details>

-   <details>
    <summary><a name="3.2-my-account"></a>3.2 My Account</summary>
    <p>my dog is broken</p>
    </details>

    -   <details>
        <summary><a name="change-my-username"></a><b>Change</b> my username</summary>
        <p>say my name say my name ðŸŽ¼ </p>
        </details>
    -   <details>
        <summary><a name="change-my-email"></a><b>Change</b> my email</summary>
        <p>i don't wanna hook em anymore</p>
        </details>
    -   <details>
        <summary><a name="change-my-password"></a><b>Change</b> my password</summary>
        <p>zoo wee mama</p>
        </details>
    -   <details>
        <summary><a name="change-user-theme"></a><b>Change</b> user theme</summary>
        <p>back pain</p>
        </details>

## <a name="4-hardware-page"></a>4. Hardware Page

-   <details>
    <summary><a name="what-is-hardware?"></a>What is hardware?</summary>
    <p>ayayyeuh</p>
    </details>
-   <details>
    <summary><a name="hardware-for-a-project"></a>Hardware for a project</summary>
    <p>i ordered a mechanical keyboard woo</p>
    </details>
-   <details>
    <summary><a name="hardware-for-personal-use"></a>Hardware for personal use</summary>
    <p>dehydration</p>
    </details>
-   <details>
    <summary><a name="checking-out-hardware"></a>Checking out hardware</summary>
    <p>check it out check it out check it out</p>
    </details>
-   <details>
    <summary><a name="checking-in-hardware"></a>Checking in hardware</summary>
    <p>if you break it you buy it if you return it you buy it if you don't return it you probably still buy it so return your hardware <3</p>
    </details>

## <a name="5-hardware-page"></a>5. Datasets Page

-   <details>
    <summary><a name="what-is-a-dataset?"></a>What is a dataset?</summary>
    <p>42</p>
    </details>
-   <details>
    <summary><a name="downloading-a-dataset"></a><b>Downloading</b> a dataset</summary>
    <p>brb gotta download this knowledge</p>
    </details>

&nbsp;  
&nbsp;

# <a name="docs-dev"></a>Developer Documentation

## <a name="dev-quickstart"></a>Quickstart

**Database:**

-   Install Mongo
    -   ie. `brew install mongodb` (macOS)
-   Set up Mongo database & log directories
    -   Create folder `/usr/local/var/mongodb` if doesn't exist
    -   Create folder `/var/log/mongodb` if doesn't exist
-   Start Mongo server
    -   Run in terminal: `sudo mongod --config={/absolute/path/to/repo}/mongo/mongo-dev.conf`
        -   Make sure the command is `mongod` and not `mongo`
        -   Math sure the path is an absolute path, ie. use `/Users/anuv/Documents/School/EE461L/project/WebApp/mongo/mongo-dev.conf`, not `WebApp/mongo/mongo-dev.conf`
    -   Should see a message like the following (with a different PID):
        ```
        about to fork child process, waiting until server is ready for connections.
        forked process: 78683
        ```
    -   Since the Mongo process forked, you can close the terminal window.
-   Start Mongo shell _(optional)_

    -   Run in terminal: `mongo`
        -   Make sure the command is `mongo` and not `mongod`
    -   The Mongo shell should open up. If not, the Mongo server did not start correctly, so go back to the previous step.
    -   Run in Mongo shell: `use simplicity-cloud`
        -   Leave this terminal window open with the shell running to observe, query, and manage the database as an administrator.

**Backend:**

-   Install [python3](https://realpython.com/installing-python/)
-   Navigate to repository in terminal: `{path/to/repo}/`
    -   You should be in the folder `WebApp`, which is the main repository folder which contains the `.git` folder and the `requirements.txt` file
-   Activate python virtual environment
    -   Run in terminal: `source ./venv/bin/activate`
        -   Confirm that your shell prompt begins with `(venv)`, ie. `(venv) anuv@Anuvs-MacBook-Pro WebApp % `
-   Install required python modules
    -   Run in terminal: `python3 -m pip install -r requirements.txt`
        -   Pip should install all the required python modules, as specified in `requirements.txt`
-   Start Flask backend:

    -   _To test the backend API, use the development environment steps. To serve the backend API in the cloud, use the production environment steps._
    -   Production Environment:
        -   ...
    -   Development Environment:

        -   Run in terminal: `export FLASK_APP=app.py`
            -   Confirm that the command worked; run in terminal: `echo $FLASK_APP` â€”> should output `app.py`
        -   Run in terminal: `python3 -m flask run`

            -   Confirm that output looks like:

            ```
            * Serving Flask app "app.py"
            * Environment: production
            WARNING: This is a development server. Do not use it in a production deployment.
            Use a production WSGI server instead.
            * Debug mode: off
            * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
            ```

        -   Leave this terminal window open with the Flask server running to keep the backend alive and to observe API requests and errors.

**Frontend:**

-   Install Node.js and NPM
    -   A good way to do this is to use [`n`](https://www.npmjs.com/package/n):
        -   Navigate to Downloads folder in terminal: `~/Downloads`
        -   Run in terminal: `curl -L https://raw.githubusercontent.com/tj/n/master/bin/n -o n`
        -   Run in terminal: `bash n lts`
            -   Use `sudo` if necessary: `sudo bash n lts`
        -   This will install the latest versions of both Node.js and NPM
        -   Confirm that Node.js and NPM are installed by running in terminal: `node --version` and `npm --version`
-   Install Yarn
    -   A good way to do this is to use NPM:
        -   Run in terminal: `npm install --global yarn`
            -   Confirm that Yarn is installed by running in terminal: `yarn --version`
-   Navigate to repository in terminal: `{path/to/repo}/frontend`
    -   You should be in the folder `WebApp/frontend`, which is the frontend root folder which contains the `package.json` file
-   Install React.js (and all frontend modules)
    -   Run in terminal: `yarn install`
        -   Yarn should install all the required Node.js & React.js, as well as all other required frontend modules as specified in `package.json`
-   Start React frontend:

    -   _To test the frontend UI, use the development environment steps. To serve the frontend UI in the cloud, use the production environment steps._
    -   Production Environment:
        -   ...
    -   Development Environment:

        -   Run in terminal: `yarn start`

            -   Confirm that output looks like the following, followed by a series of warnings (the output lines may be spaced out by a few seconds with console clears):

            ```
            yarn run v1.22.10
            $ react-scripts start

            Starting the development server...

            Compiled with warnings.
            ```

        -   Leave this terminal window open with the React development server running to keep the frontend alive and to access & test the UI in a browser.

## <a name="dev-sources"></a>Sources

**Backend:**

-   https://flask.palletsprojects.com/en/1.1.x/tutorial/factory/ - Used to set up the Flask application.
-   https://realpython.com/introduction-to-mongodb-and-python/ - We wanted to find out how to use MongoDB with Flask and initially we thought our only option was to use PyMongo. With this website we came across MongoEngine and we found that MongoEngine was more pythonic and easier to read/use so committed to using MongoEngine.
-   https://flask.palletsprojects.com/en/1.1.x/patterns/mongoengine/ - Used for setting up MongoEngine.
-   https://docs.mongoengine.org/apireference.html - Used this documentation to navigate our use of MongoEngine.
-   https://stackoverflow.com/questions/60803402/flask-jwt-or-flask-login - We needed a method of keeping a user logged-in if they have already signed in. Flask-login didn't seem to work well with the front-end without some hacky methods, so this stack overflow post helped us determine that we should use json web tokens instead.
-   https://realpython.com/token-based-authentication-with-flask/ - Used to better understand jwt and helped with setup.
-   https://flask-jwt-extended.readthedocs.io/en/stable/ - Used to navigate our use of flask-jwt.

&nbsp;  
&nbsp;
