# Simplicity Cloud

Semester project for EE461L.  
Team: Sylvia Vu, Pulkit Mahajan, and Anuv Gupta.
&nbsp;
&nbsp;
&nbsp;

-   **[User Documentation](#docs-user)**
-   **[Developer Documentation](#docs-dev)**

&nbsp;

# <a name="docs-user"></a>User Documentation

## _Table of Contents_

### [1. Getting Started](#1-getting-started)

-   [What is Simplicity?](#what-is-simplicity?)
-   [**Create** an account](#create-an-account)
-   [How do I **sign in**?](#how-do-i-sign-in?)

### [2. Home Page](#2-home-page)

-   [Home Page summary](#home-summary)

### [3. User Functions and Features](#3-user-functions-and-features)

-   #### [3.1 Projects](#3.1-projects)
    -   [What is a **project**?](#what-is-a-project?)
    -   [What is a **Project ID**?](#what-is-project-id)
    -   [**Create** a project](#create-a-project)
    -   [**Join** a project](#join-a-project)
    -   [**Edit** a project](#edit-a-project)
    -   [**Delete** a project](#delete-a-project)
-   #### [3.2 My Account](#3.2-my-account)
    -   [**Change** my username](#change-my-username)
    -   [**Change** my email](#change-my-email)
    -   [**Change** my password](#change-my-password)
    -   [**Change** user theme](#change-user-theme)
    -   [What is **Administrator Status**?](#what-is-admin-status)

### [4. Hardware Page](#4-hardware-page)

-   [What is hardware?](#what-is-hardware?)
-   [Hardware for a **project**](#hardware-for-a-project)
-   [Hardware for **personal use**](#hardware-for-personal-use)
-   [**Check out** hardware for a project](#check-out-project)
-   [**Check in** hardware for a project](#check-in-project)
-   [**Check out** hardware for personal use](#check-out-personal)
-   [**Check in** hardware for a project](#check-in-personal)

### [5. Datasets Page](#5-datasets-page)

-   [What is a dataset?](#what-is-a-dataset?)
-   [**Downloading** a dataset](#downloading-a-dataset)

### [6. Billing Page](#6-billing-page)

-   #### [6.1 Billing](#6.1-billing)
    -   [Billing overview](#billing-overview)
    -   [View paid bills](#view-paid-bills)
    -   [How are bills calculated?](#how-bills-calculated)
    -   [Why can't I pay my bill?](#cant-pay-bill)
-   #### [6.2 Payment Method](#6.2-payment)
    -   [Is setting a payment method **required**?](#payment-required)
    -   [**Update** my payment method](#update-payment)

&nbsp;  
<a name=""></a>

## <a name="1-getting-started"></a>1. Getting Started

-   <details>
      <summary>What is Simplicity?<a name="what-is-simplicity?"></summary>
      <p>Hello, and welcome to Simplicity! üòÑ Simplicity is a Haas (Hardware-as-a-service) website where users can use the site's resources to work on collaborative projects with others, or even on personal projects. Creating an account is quick, easy, and FREE! Create yours today! ü•≥</p>
    </details>

-   <details>
    <summary><a name="create-an-account"></a><b>Create</b> an account</summary>
    <p>Good news, creating an account is simple! Click <a href="https://simplicitycloud.ml/">this link</a> to head to the Simplicity home page. Click 'Sign Up'; you'll be redirected to the registration page. Fill out the fields listed on the screen. Once you do that, you're ready to work with Simplicity! üòé</p>
    </details>

-   <details>
    <summary><a name="how-do-i-sign-in?"></a>How do I <b>sign in</b>?</summary>
    <p>If you've just created an account, you should be redirected to your user portal. Similarly, if you have signed in previously and are re-visiting the website without having signed out, you will be redirected to your user portal when you try to reach the home page. Alternatively, click <a href="https://simplicitycloud.ml/">this link</a> to head to the Simplicity home page. Click 'Sign In'; you'll be redirected to the login page. Input the same credentials you signed up with. If your information is correct, you've successly signed in and you're ready to work!</p>
    </details>

## <a name="2-home-page"></a>2. Home Page

-   <details>
    <summary><a name="home-summary"></a>Home Page summary</summary>
    <p>Welcome home! ü•≥ At a glance, you'll be able to see a summary of all of the working parts of your account. In the top layer, you can see how many projects you're involved in and how many units of hardware you have checked out for personal use. In the second layer, you can view your projects in greater detail; they're shown as cards with each project's name, description, and <a name="what-is-project-id"></a><b>Project ID</b>. In the third layer, you can keep track of all things hardware! You can see your total checked-out quantities of hardware, as well as how much is being used for personal use and for projects.</p>
    </details>

## <a name="3-user-functions-and-features"></a>3. User Functions and Features

-   ### <a name="3.1-projects"></a>3.1 Projects

    -   <details>
        <summary><a name="what-is-a-project?"></a>What is a project?</summary>
        <p>A project is anything you could imagine! Use our hardware and data sets to bring any idea to life. ü§ô </p>
        </details>
    -   <details>
        <summary><a name="what-is-project-id"></a>What is a <b>Project ID</b>?</summary>
        <p>A Project ID is a string of characters (max 20 characters) that is unique to each project (yes, we make sure that no two projects have the same ID!). This ID is used to identify your project and also used by collaborators to join you on this project. Keep your project ID's a secret from non-collaborators to prevent uninvited guests from showing up to your project party! ü§´</p>
        </details>
    -   <details>
        <summary><a name="create-a-project"></a><b>Create</b> a project</summary>
        <p>To create a new project, refer to the navigation menu on the left side; click on 'Projects'. Then, click on 'NEW PROJECT'; you will then be presented with the project-creation form. Give your project a unique <a name="what-is-project-id"></a><b>Project ID</b>, a name, a maybe a fun description! Click 'CREATE PROJECT' when you're satisfied with your input. Congratulations, you've just created a project! üòÑ</p>
        </details>
    -   <details>
        <summary><a name="join-a-project"></a><b>Join</b> a project</summary>
        <p>First, make sure that you know the specific <a name="what-is-project-id"></a><b>Project ID</b> of the project (this is your key to getting in!). To join a project, refer to the navigation menu on the left side of the screen; click on 'Projects'. Then, click on 'JOIN PROJECT'. You will be presented with a form that asks for a Project ID. Input the ID of the project you are trying to join and click 'JOIN PROJECT'. If successful, a green 'Success!' message will flash under the text box. Happy collaborating! üôå</p>
        </details>
    -   <details>
        <summary><a name="edit-a-project"></a><b>Edit</b> a project</summary>
        <p>Head over to the 'Projects' page and locate the project you are attempting to edit among the project cards shown on the screen. Once you've done that, click the three vertical dots in the top right-hand corner of the card. Click 'Edit'. You'll be presented with a form where you can edit the name and/or the description of the project. <i>Side note: You <b>cannot</b> change a project's ID. üö´</i> </p>
        </details>
    -   <details>
        <summary><a name="delete-a-project"></a><b>Delete</b> a project</summary>
        <p>If you've completed a project or simply would like to get rid of one, no problem! Head over to the 'Projects' page and locate the project you would like to delete. Once you've done so, click the three vertical dots in the top right-hand corner of the project card. Click 'Delete'. A pop will appear and ask you to confirm or cancel your decision. <i>Side note: Once a project is deleted, its ID is free to be used by a newly-created project. üîÑ</i></p>
        </details>

-   ### <a name="3.2-my-account"></a>3.2 My Account

    -   <details>
        <summary><a name="change-my-username"></a><b>Change</b> my username</summary>
        <p>Go to your 'Settings' page via the navigation bar on the left side of the page. In the text box to the right of 'Username', delete your old username and input a new one. Make sure to click 'UPDATE INFO' to save your changes. Welcome to the new you! ‚ú®/p>
        </details>
    -   <details>
        <summary><a name="change-my-email"></a><b>Change</b> my email</summary>
        <p>Go to your 'Settings' page via the navigation bar on the left side of the page. In the text box to the right of 'Email', delete your old email address and input an updated one. Click 'UPDATE INFO' to save your changes. <i>We promise we won't fill your inbox with random emails! üôÇ</i></p>
        </details>
    -   <details>
        <summary><a name="change-my-password"></a><b>Change</b> my password</summary>
        <p>Go to your 'Settings' page via the navigation bar on the left side of the page. In the text box to the right of 'Password', input a new password (and make it good!). Below this field, you'll be asked to input your current/old password for verification. Click 'UPDATE INFO' to save your changes.</p>
        </details>
    -   <details>
        <summary><a name="change-user-theme"></a><b>Change</b> user theme</summary>
        <p>If you ever get tired of the look of your website, here's a neat way to switch it up! Head over to your 'Settings' page via the navigation bar on the left side of the page. Click the long colorful rectangle to the right of 'Theme' and a color chart will appear. Use your cursor to click and drag around the color selection. Change the hue and saturation to your liking! üåà If you know the hex code to the color you'd like, feel free to input the code in the text box above 'Hex'. Or, if you can't decide on a color right away, we've got you covered with some presets at the bottom of the color chart pop-up. üòä</p>
        </details>

    -   <details>
        <summary><a name="what-is-admin-status"></a>What is <b>Administrator Status</b>?</summary>
        <p>This is a different account type that is used by system administrators for monitoring site usage and maintenance. Special permissions must be acquired in order for an account to possess Administrator Status. </p>
        </details>

## <a name="4-hardware-page"></a>4. Hardware Page

-   <details>
    <summary><a name="what-is-hardware?"></a>What is hardware?</summary>
    <p>Hardware sets are resources/tools that you can use to help you construct your projects. Our hardware is very versatile and can be made to do anything you imagine! ‚öôÔ∏è</p>
    </details>
-   <details>
    <summary><a name="hardware-for-a-project"></a>Hardware for a project</summary>
    <p>With Simplicity, users have the option to use hardware specifically for projects, or for personal use. Hardware that is checked out to a project can be accessed and used by all members of that project. Learn how to <a name="check-out-project"></a><b>Check out</b> and <a name="check-in-project"></a><b>Check in</b> hardware for a project.</p>
    </details>
-   <details>
    <summary><a name="hardware-for-personal-use"></a>Hardware for personal use</summary>
    <p>With Simplicity, users have the option to use hardware specifically for projects, or for personal use. Hardware that is checked out for personal can solely be accessed and used by the user. Learn how to <a name="check-out-personal"></a><b>Check out</b> and <a name="check-in-personal"></a><b>Check in</b> hardware for personal use. </p>
    </details>
-   <details>
    <summary><a name="check-out-project"></a><b>Check out</b> hardware for a project</summary>
    <p>To check out hardware for a project, head to the 'Projects' page. Locate the project you would like to check out hardware for, and click 'MANAGE' on that project's card. You'll be able to see what hardware, if any, has been checked out for that project already. Below this is the check out form. Select the hardware set you'd like to check out and input the check out quantity under 'Requested Quantity'. The total quantity available for checkout can be seen under 'Total Availability'. The price per unit of a hardware set is shown as well under 'Projected Pricing and Cost' in the left text box. The right text box will automatically be updated with the calculated cost according to the requested quantity. Click 'CHECK OUT' to officially check out your hardware.</p>
    </details>
-   <details>
    <summary><a name="check-in-project"></a><b>Check in</b> hardware for a project</summary>
    <p>To check in hardware for a project, head to the 'Projects' page. Locate the project you would like to check out hardware for, and click 'MANAGE' on that project's card. You'll be able to see what hardware, if any, has been checked out for that project already. Below this is the check in form. Select the hardware set you'd like to check in and input the check in quantity under 'Requested Quantity'. Click 'CHECK IN' to officially check in hardware. After doing so, a bill for each project member will automatically be calculated and can be viewed on the <a name="6-billing-page"></a>6. Billing Page.</p>
    </details>
-   <details>
    <summary><a name="check-out-personal"></a><b>Check out</b> hardware for personal use</summary>
    <p>To check out hardware for personal use, head to the 'Hardware' page. According to the cards shown at the top of the page, you'll be able to see how many units of each hardware set you have currently checked out. Below these cards is the check out form. Select the hardware set you'd like to check out and input the check out quantity under 'Requested Quantity'. The total quantity available for checkout can be seen under 'Total Availability'. The price per unit of a hardware set is shown as well under 'Projected Pricing and Cost' in the left text box. The right text box will automatically be updated with the calculated cost according to the requested quantity. Click 'CHECK OUT' to officially check out your hardware.</p>
    </details>
-   <details>
    <summary><a name="check-in-personal"></a><b>Check in</b> hardware for personal use</summary>
    <p>To check in hardware for personal use, head to the 'Hardware' page. According to the cards shown at the top of the page, you'll be able to see how many units of each hardware set you have currently checked out. Below these cards is the check in form. Select the hardware set you'd like to check in and input the check in quantity under 'Requested Quantity'. Click 'CHECK IN' to officially check in your hardware. After doing so, a bill for your used hardware will automatically be calculated and can be viewed on the <a name="6-billing-page"></a>6. Billing Page.</p>
    </details>

## <a name="5-hardware-page"></a>5. Datasets Page

-   <details>
    <summary><a name="what-is-a-dataset?"></a>What is a dataset?</summary>
    <p>Datasets are useful documents of information that may be helpful to projects and hardware use.</p>
    </details>
-   <details>
    <summary><a name="downloading-a-dataset"></a><b>Downloading</b> a dataset</summary>
    <p>To download a dataset, go to the 'Datasets' page via the navigation bar on the left side of the screen. On the right of each dataset, click 'DOWNLOAD ZIP'. This file is then directly downloaded to your device and can be found in your computer files.</p>
    </details>

## <a name="6-billing-page"></a>6. Billing Page

-   ### <a name="6.1-billing"></a>6.1 Billing
-   <details>
    <summary><a name="billing-overview"></a>Billing Overview</summary>
    <p>Here, you are able to view all of your bills and able to change/set your payment method! At the top of the page are your bills. These are calculated when you <a name="check-in-project"></a><b>Check in</b> hardware for a project or <a name="check-in-personal"></a><b>Check in</b> hardware for personal use. You will be able to pay your bills directly from this page, given that you have <a name="payment-required"></a>set your payment method.</p>
    </details>
-   <details>
    <summary><a name="view-paid-bills"></a>View Paid Bills</summary>
    <p>ayayyeuh</p>
    </details>
-   <details>
    <summary><a name="how-bills-calculated"></a>What is hardware?</summary>
    <p>ayayyeuh</p>
    </details>
-   <details>
    <summary><a name="cant-pay-bill"></a>Why can't I pay my bill?</summary>
    <p>ayayyeuh</p>
    </details>

-   ### <a name="6.2-payment"></a>6.2 Payment Method
-   <details>
    <summary><a name="payment-required"></a>Is setting a payment method <b>required</b>?</summary>
    <p>personal check in</p>
    </details>
-   <details>
    <summary><a name="update-payment"></a><b>Update</b> my payment method</summary>
    <p>personal check in</p>
    </details>

&nbsp;  
&nbsp;

# <a name="docs-dev"></a>Developer Documentation

## <a name="dev-quickstart"></a>Quickstart

_Follow the steps in each of the following sections (in correct order) to set up the application for development or production service._

<details>

<summary> <b>Database</b> </summary>

-   Install Mongo
    -   ie. `brew install mongodb` (macOS)
-   Set up Mongo database & log directories
    -   Create folder `/usr/local/var/mongodb` if doesn't exist
    -   Create folder `/var/log/mongodb` if doesn't exist
-   Start Mongo server
    -   Run in terminal: `sudo mongod --config={/absolute/path/to/repo}/mongo/mongo-dev.conf`
        -   Make sure the command is `mongod` and not `mongo`
        -   Math sure the path is an absolute path, ie. use `/Users/anuv/Documents/School/EE461L/project/WebApp/mongo/mongo-dev.conf`, not `WebApp/mongo/mongo-dev.conf`
    -   Should see a message like the following (with a different PID):
        ```
        about to fork child process, waiting until server is ready for connections.
        forked process: 78683
        ```
    -   Since the Mongo process forked, you can close the terminal window.
-   Start Mongo shell _(optional)_

    -   Run in terminal: `mongo`
        -   Make sure the command is `mongo` and not `mongod`
    -   The Mongo shell should open up. If not, the Mongo server did not start correctly, so go back to the previous step.
    -   Run in Mongo shell: `use simplicity-cloud`
        -   Leave this terminal window open with the shell running to observe, query, and manage the database as an administrator.

</details>

<details>

<summary> <b>Backend</b> </summary>

-   Install [python3](https://realpython.com/installing-python/)
-   Navigate to repository in terminal: `{path/to/repo}/`
    -   You should be in the folder `WebApp`, which is the main repository folder which contains the `.git` folder and the `requirements.txt` file
-   Activate python virtual environment
    -   Run in terminal: `source ./venv/bin/activate`
        -   Confirm that your shell prompt begins with `(venv)`, ie. `(venv) anuv@Anuvs-MacBook-Pro WebApp % `
-   Install required python modules
    -   Run in terminal: `python3 -m pip install -r requirements.txt`
        -   Pip should install all the required python modules, as specified in `requirements.txt`
-   Start Flask backend:

    -   _To test the backend API, use the development environment steps. To serve the backend API in the cloud, use the production environment steps._
    -   Production Environment:
        -   Run in terminal: `./serve.sh`
    -   Development Environment:

        -   Run in terminal: `export FLASK_APP=app.py`
            -   Confirm that the command worked; run in terminal: `echo $FLASK_APP` ‚Äî> should output `app.py`
        -   Run in terminal: `python3 -m flask run`

            -   Confirm that output looks like:

            ```
            * Serving Flask app "app.py"
            * Environment: production
            WARNING: This is a development server. Do not use it in a production deployment.
            Use a production WSGI server instead.
            * Debug mode: off
            * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
            ```

        -   Leave this terminal window open with the Flask server running to keep the backend alive and to observe API requests and errors.

</details>

<details>

<summary> <b>Frontend</b> </summary>

-   Install Node.js and NPM
    -   A good way to do this is to use [`n`](https://www.npmjs.com/package/n):
        -   Navigate to Downloads folder in terminal: `~/Downloads`
        -   Run in terminal: `curl -L https://raw.githubusercontent.com/tj/n/master/bin/n -o n`
        -   Run in terminal: `bash n lts`
            -   Use `sudo` if necessary: `sudo bash n lts`
        -   This will install the latest versions of both Node.js and NPM
        -   Confirm that Node.js and NPM are installed by running in terminal: `node --version` and `npm --version`
-   Install Yarn
    -   A good way to do this is to use NPM:
        -   Run in terminal: `npm install --global yarn`
            -   Confirm that Yarn is installed by running in terminal: `yarn --version`
-   Navigate to repository in terminal: `{path/to/repo}/frontend`
    -   You should be in the folder `WebApp/frontend`, which is the frontend root folder which contains the `package.json` file
-   Install React.js (and all frontend modules)
    -   Run in terminal: `yarn install`
        -   Yarn should install all the required Node.js & React.js, as well as all other required frontend modules as specified in `package.json`
-   Start React frontend:

    -   _To test the frontend UI, use the development environment steps. To serve the frontend UI in the cloud, use the production environment steps._
    -   Production Environment:
        -   Install [serve](https://www.npmjs.com/package/serve) to `/usr/local/bin/serve` (with NPM)
        -   Run in terminal: `./serve.sh`
    -   Development Environment:

        -   Run in terminal: `yarn start`

            -   Confirm that output looks like the following, followed by a series of warnings (the output lines may be spaced out by a few seconds with console clears):

            ```
            yarn run v1.22.10
            $ react-scripts start

            Starting the development server...

            Compiled with warnings.
            ```

        -   Leave this terminal window open with the React development server running to keep the frontend alive and to access & test the UI in a browser.

_Access the application for development environments at [http://localhost:3000/](http://localhost:3000/). For production environments, reverse proxy & DNS setup is required._

</details>

&nbsp;

## <a name="dev-sources"></a>Sources

**Backend:**

-   https://flask.palletsprojects.com/en/1.1.x/tutorial/factory/ - Used to set up the Flask application.
-   https://realpython.com/introduction-to-mongodb-and-python/ - We wanted to find out how to use MongoDB with Flask and initially we thought our only option was to use PyMongo. With this website we came across MongoEngine and we found that MongoEngine was more pythonic and easier to read/use so committed to using MongoEngine.
-   https://flask.palletsprojects.com/en/1.1.x/patterns/mongoengine/ - Used for setting up MongoEngine.
-   https://docs.mongoengine.org/apireference.html - Used this documentation to navigate our use of MongoEngine.
-   https://stackoverflow.com/questions/60803402/flask-jwt-or-flask-login - We needed a method of keeping a user logged-in if they have already signed in. Flask-login didn't seem to work well with the front-end without some hacky methods, so this stack overflow post helped us determine that we should use json web tokens instead.
-   https://realpython.com/token-based-authentication-with-flask/ - Used to better understand jwt and helped with setup.
-   https://flask-jwt-extended.readthedocs.io/en/stable/ - Used to navigate our use of flask-jwt.

&nbsp;  
&nbsp;
